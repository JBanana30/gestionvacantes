<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/springsecurity6">
<head>
</head>
<body>

<nav th:fragment="nav" sec:authorize="isAuthenticated()" class="navbar">
    <div class="navbar-container">
        <a th:href="@{/dashboard}" class="navbar-brand">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-grid"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg>
            Dashboard
        </a>

        <div class="navbar-user">
            <span sec:authentication="name" class="user-email"></span>

            <form th:action="@{/logout}" method="post" style="display: inline;">
                <button type="submit" class="btn-logout-nav">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-log-out"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>
                    Cerrar Sesión
                </button>
            </form>
        </div>
    </div>
</nav>

<style th:fragment="nav-styles">
    .navbar {
        width: 100%;
        background-color: #2c2f33; /* Gris oscuro (del dashboard) */
        padding: 12px 40px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        box-sizing: border-box; /* Asegura que el padding no afecte el ancho */
        position: fixed; /* Fija la barra en la parte superior */
        top: 0;
        left: 0;
        z-index: 1000;
        height: 60px; /* Altura fija */
    }
    .navbar-container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 100%;
        max-width: 1200px; /* Ancho máximo opcional */
        margin: 0 auto;
    }
    .navbar-brand {
        color: #00a4a4; /* Color primario */
        text-decoration: none;
        font-size: 1.3em;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 8px; /* Espacio entre icono y texto */
    }
    .navbar-brand:hover {
        color: #00c0c0;
    }
    .navbar-user {
        display: flex;
        align-items: center;
        gap: 20px;
    }
    .user-email {
        color: #99aab5; /* Texto silenciado */
        font-size: 0.9em;
    }
    .btn-logout-nav {
        background-color: #FF6B6B; /* Rojo coral */
        color: white;
        border: none;
        border-radius: 20px;
        padding: 8px 16px;
        font-family: 'Poppins', sans-serif;
        font-weight: 600;
        font-size: 0.9em;
        cursor: pointer;
        transition: background-color 0.2s;
        display: flex;
        align-items: center;
        gap: 6px;
    }
    .btn-logout-nav:hover {
        background-color: #E05252;
    }
</style>

</body>
</html>